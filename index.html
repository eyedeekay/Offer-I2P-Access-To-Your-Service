<h1 id="how-to-offer-your-existing-web-site-as-an-i2p-eepsite">How to offer your existing Web Site as an I2P eepSite</h1>
<p>A somewhat meta-tutorial and guided tour of mirroring a clear-web site to i2p. Unfortunately, it's probably impossible to <em>completely</em> cover all possible cases of making an existing web site available as an eepSite, there's simply too diverse an array of server-side software, not to mention the in-practice peculiarities of any particular deployment of software. Instead, I'm going to try and convey, as specifically as possible, the general process preparing a service for deployment to the eepWeb or other hidden services.</p>
<p>Much of this guide will be treating the reader as a conversational participant, in particular If I really mean it I will address the reader directly(i.e. using &quot;you&quot; instead of &quot;one&quot;) and I'll frequently head sections with questions I think the reader might be asking, then answer them. Like now, for instance ;)</p>
<h2 id="important-questions-from-systems-administrators">Important Questions from Systems Administrators</h2>
<h3 id="why-would-i-want-to-mirror-my-clear-web-site-on-i2p">Why would I want to mirror my Clear-Web site on I2P?</h3>
<p>I still get this question alot, and it kind of surprises me at this point. After all, many major clear-web services already have the very similar Tor Hidden Services, and Tor even added a feature called &quot;Single-hop Onions&quot; to help non-anonymous services be more effiecient and accessible to anonymous clients on their overlay network. This is so that you can add value to your service by allowing clients to access it anonymously. Besides that, there are also several services on I2P which are accessible from clear-web counterparts, services such as Jabber, e-mail, and activitypub-based social-networking.</p>
<p>So the point of the DuckDuckGo hidden service, for example, isn't to anonmymize DuckDuckGo, that's obviously not possible. It is to provice anonymous, blocking resistant access to <em>visitors</em> who do not wish to reveal their possible coarse physical location in the form of their IP address. Moreover, it is actually very easy to allow this kind of access to your existing web service.</p>
<h3 id="why-wouldnt-i-just-let-i2p-users-rely-on-their-outproxy">Why wouldn't I just let I2P Users rely on their OutProxy?</h3>
<p>Just in case you didn't know, I2P has fairly few outproxies, all run by volunteers. We really appreciate the work of our outproxy operators, and they have a job that can get pretty complicated providing generic access to the clearweb for anonymous clients. As a web site operator, you are in a genuinely unique position to make this job easier. Only <em>you</em> can safely provide an eepSite for your existing clear-web service to accept anonymous users and only <em>you</em> can reduce the burden on the outproxy operators.</p>
<h3 id="how-can-i-ensure-that-my-users-are-seeing-the-real-eepsite-for-my-service">How can I ensure that my users are seeing the real eepSite for my Service?</h3>
<p>This is the reason <em>your</em> participation in the I2P network is so essential to providing anonymous access to your eepSite. After all, anyone can set up a fake gateway to say, reddit.com:80(Because somehow Reddit still lets you use a plain HTTP connection in 2019, fortunately, most browsers at this point won't let you use it in practice), as a Tor hidden service or I2P eepSite and unless your users take the time to verify the .onion or .b32.i2p address manually, they seriously risk typing their password into a malicious site.</p>
<p>The difference <em>you</em> and <strong>only you</strong> can make is to use your TLS certificate to ensure that the hidden service that the user connects to is the same site, run by the same people, as the clear-web service, the behavior that the user not only expects but <em>absolutely counts on.</em></p>
<h3 id="do-i-really-want-to-allow-anonymous-users-first-class-access-to-my-site">Do I really want to allow anonymous users first-class access to my site?</h3>
<p>Honestly you don't have a choice between allowing, or not allowing, anonymous access to your site. If you block outproxies, I2P users will simply use Tor. If you block Tor exits, Tor users will chain open HTTP Proxies. If all the open HTTP proxies disappeared overnight(they won't) then VPN's would still be a thing. And, to belabor a point already made by Tor, <em>botnet-based anonymizers</em> <em>used to conceal criminal activity</em> already exist in the wild and are more likely to be used maliciously than Tor, because that's what they're for! So the real choice is</p>
<ol>
<li>Offer first-class access to anonymous users via a hidden service under your own control,</li>
<li>Encourage anonymous users to hide from you in escalatingly more anti-social ways.</li>
</ol>
<p>And in light of that, I think the choice is pretty clear. If you want your anonymous users to be like your regular users, you should treat your anonymous users like regular users, after all, that's what they are. :)</p>
<h2 id="disclaimers">DISCLAIMERS:</h2>
<p>While it would be wonderful, it's probably impossible for me to put specific instructions for every single kind of software that one might use to host web sites. As such, this tutorial requires some assumptions on the part of the writer and some critical thinking and common sense on the part of the reader. To be clear, <strong>I have assumed that the person following this tutorial is</strong> <strong>already operating a clear-web service linkable to a real identity or</strong> <strong>organization</strong> and thus is simply offering anonymous access and not anonymizing themselves. Thus, <strong>it makes no attempt whatsoever to anonymize</strong> a connection from one server to another. If you want to run a new, un-linkable hidden service that makes server-to-server connections, additional steps will be required and will be covered in another tutorial.</p>
<p>That said: If you can be sure that a <em>brand new service</em> which is <em>not</em> <em>available to the clear-web</em> will never make a server-to-server connection and will not leak server metadata in responses to clients, then services configured in this way will be anonymous.</p>
<h2 id="process-one-prepare-your-server">Process One: Prepare your Server</h2>
<h3 id="step-one-determine-what-software-you-are-running">Step one: Determine what software you are running</h3>
<p>In practice, your web service probably uses a number of things to enhance it's reliability and security. These things could be proxies, reverse proxies, containers, tunnels, Intrusion Detection Systems, rate-limiters, load balancers, among many other things. When you get started, you should go through your deployment and determine which software you are using, and what you are using it for.</p>
<h4 id="as-you-examine-your-software-ask-yourself-these-questions">As you examine your software, ask yourself these questions</h4>
<p>These questions should help you evaluate what parts of your software stack are relevant to your i2p eepSite.</p>
<h5 id="does-this-software-work-based-on-ip-addresses">Does this software work based on IP addresses?</h5>
<p>If you are using software which alters the behavior of traffic based on the IP address of the sender, these things will probably not work with I2P, or may work in complicated or unexpected ways. This is because the address will usually be the localhost, or at least the host where your I2P router is running. Software which sometimes does things based on IP addresses could be Fail2Ban, iptables, and similar applications.</p>
<h5 id="does-this-software-work-by-tagging-traffic-with-additional-metadata">Does this software work by &quot;Tagging&quot; traffic with additional metadata?</h5>
<p>Some software may be configured to add information to the traffic it handles. Obviously, if this information is identifying it should not be part of the chain of services that is exposed to the I2P network.</p>
<h5 id="does-this-software-work-by-communicating-with-a-remote-resource-what-triggers-this-behavior">Does this software work by communicating with a remote resource? What triggers this behavior?</h5>
<p>Some software may also draw from remote resources, to find up-to-date rules and block lists which can be used to prevent attacks. Some of these might be useful as part of the service that is exposed to I2P, but you should make sure that the rules are applicable and that a rules update cannot be triggered as a result of a normal client request. This would create a server-to-server communication which could reveal the timing of an I2P communication to a third party.</p>
<h3 id="step-two-determine-which-port-to-forward-to-i2p">Step two: Determine which port to Forward to I2P</h3>
<p>In order to ensure that your eepSite deployment gets the same benefits as your clear-web site as possible, it's usually a good idea to connect your service to I2P at the same point that you connect to the clear web, with some exceptions you might decide on based on the questions above.</p>
<h4 id="once-youve">Once you've</h4>
<h2 id="process-two-forward-your-service-to-an-eepsite">Process Two: Forward your service to an eepSite</h2>
<h3 id="step-three">Step three:</h3>
<h3 id="step-four">Step four:</h3>


